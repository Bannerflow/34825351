<div
  *ngIf="pokemonDetails$ | async as pokemonDetails"
  class="container m-10 mx-auto p-6 bg-white dark:bg-gray-900 rounded-lg shadow-lg"
>
  <h2
    class="text-3xl font-bold text-center mb-4 text-gray-900 dark:text-gray-100"
  >
    {{ pokemonDetails.name | uppercase }}
  </h2>

  <div class="flex justify-center">
    <p-pokemon-img
      [name]="pokemonDetails.name"
      [mainImage]="pokemonDetails.mainImage"
      [dreamImage]="pokemonDetails.dreamImage"
    />
  </div>

  <div class="mb-6">
    <p class="text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2">
      Abilities:
    </p>
    <div class="flex gap-2">
      <div
        *ngFor="let abilityName of pokemonDetails.abilities"
        class="rounded-md bg-slate-100 py-0.5 px-2.5 border border-transparent text-sm text-slate-600 transition-all shadow-sm"
      >
        {{ abilityName }}
      </div>
    </div>
  </div>

  <div *ngIf="pokemonEvolutions$ | async as evolutions" class="mb-6">
    <p class="text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2">
      Evolutions:
    </p>
    <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4">
      <div
        *ngFor="let evolution of evolutions"
        (click)="goToDetailsPage(evolution.id)"
        class="bg-gray-100 {{
          evolution.id === pokemonDetails.id
            ? 'bg-gray-200 dark:bg-gray-800 pointer-events-none'
            : 'bg-gray-100 dark:bg-gray-700 cursor-pointer hover:bg-gray-200 hover:dark:bg-gray-800'
        }} p-4 rounded-lg shadow-md text-center"
      >
        <p-pokemon-img
          [name]="evolution.name"
          [mainImage]="evolution.mainImage"
          [dreamImage]="evolution.dreamImage"
        />
        <p class="text-lg font-semibold text-gray-800 dark:text-gray-200">
          {{ evolution.name }}
        </p>
      </div>
      <p-loading [show]="loadingEvolutions"></p-loading>
    </div>
  </div>
</div>

<p-loading [show]="loadingDetails"></p-loading>

<div
  *ngIf="errorText"
  class="container p-4 m-10 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-900 dark:text-red-400"
  role="alert"
>
  <span class="font-medium">Error!</span> {{ errorText }}
</div>
